<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PLACEHOLDER//></title>
    <script defer src="/__/firebase/9.6.10/firebase-app-compat.js"></script>
    <script defer src="/__/firebase/9.6.10/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/9.6.10/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/9.6.10/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <!-- OLD QUOTE ADD DIALOG <script>
        $( function() {
          var dialog, form,
      
            // From http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#e-mail-state-%28type=email%29
            Lquote = $( "#Lquote" ),
            Lquotee = $( "#Lquotee" ),
            password = $( "#password" ),
            allFields = $( [] ).add( Lquote ).add( Lquotee );
      
          function addQuote() {
            allFields.removeClass( "ui-state-error" );
            writeQuota(Lquote.val(), Lquotee.val())
            if ( true ) {
              
              dialog.dialog( "close" );
            }
            return true;
          }
      
          dialog = $( "#dialog-form" ).dialog({
            autoOpen: false,
            height: 290,
            width: 350,
            modal: true,
            buttons: {
              "AddQuote": addQuote,
              Cancel: function() {
                dialog.dialog( "close" );
              }
            },
            close: function() {
              form[ 0 ].reset();
              allFields.removeClass( "ui-state-error" );
            }
          });
      
          form = dialog.find( "form" ).on( "submit", function( event ) {
            event.preventDefault();
            addQuote();
          });
      
          $( "#create-quote" ).button().on( "click", function() {
            dialog.dialog( "open" );
          });
        } );
    </script>-->
    <!-- INSPIROBOT IMAGE GETTER<script>
      function setImage(image){
        var string;
        $.get("https://inspirobot.me/api?generate=true",
        {},
        function(data){
          image.attr('src',data)
        });
      }
    </script> -->
    <!-- OLD CARD GENERATOR<script>
      var html
      var hashtmlset;
      var i = 0;
      function generateQuotes(data){
        if(!hashtmlset){
          html = $('#template').html();
          rowtml = $("#row").html();
          $('#template').remove();
          hashtmlset = !hashtmlset
        }
        $('#Quotes').empty();
        var quoteIdList = [];
        for(entry in data){
          if(entry != "Messages"){
            quoteIdList.push(entry)
          }
        }
        if(quoteIdList.length != 0){
          displayQuotes(quoteIdList)
        }
        
      }
      function displayQuotes(data){
        console.log(data)
        console.log(i)
        firebase.database().ref().child(data.pop()).get().then((snapshot)=>{
          if(i==0){
            $('#Quotes').append(html);
            setImage($("#image"))
            $("#image").attr('id','')
            $("#quotb").text(snapshot.val().quote)
            $("#name").text(snapshot.val().quotee)
            $("#quotb").attr('style','text-shadow: 1px 1px 0 #444; font-size: 25px')
            $("#quotb").attr('id','')
            $("#name").attr('id','')
          }else{
            $("#row").append(rowtml)
            setImage($("#image"))
            $("#image").attr('id','')
            $("#quotb").text(snapshot.val().quote)
            $("#name").text(snapshot.val().quotee)
            $("#quotb").attr('style','text-shadow: 1px 1px 0 #444; font-size: 25px')
            $("#quotb").attr('id','')
            $("#name").attr('id','')
          }
          i++
          if(i==3){
            $("#row").attr('id','')
            i=0
          }
          if(data.length != 0){
            displayQuotes(data)
          }
        })
      }
      function writeQuota(mesagee, nameee){
        firebase.database().ref().get().then((snapshot)=>{
          var msgs = snapshot.val().Messages
          firebase.database().ref(msgs+"").set({
            "quote": mesagee,
            "quotee": nameee
          })
          var updates = {}
          updates["Messages"] = msgs + 1
          firebase.database().ref().update(updates).then(setTimeout(function(){window.location.reload()},50))
        })
      }
    </script> -->
    <style>
      body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}
    </style>
    <div id="dialog-form" title="Add New Quote">
      <form>
        <fieldset>
          <label for="Lquote">Quote</label>
          <input type="text" name="Lquote" id="Lquote" value="" class="text ui-widget-content ui-corner-all"style="display:block; margin-bottom:12px; width:95%; padding: .4em;" autocomplete="off">
          <label for="Lquotee">Quotee</label>
          <input type="text" name="Lquotee" id="Lquotee" value="" class="text ui-widget-content ui-corner-all" style="display:block; margin-bottom:12px; width:95%; padding: .4em;"autocomplete="off">     
          <!-- Allow form submission with keyboard without duplicating the dialog button -->
          <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
        </fieldset>
      </form>
    </div>
  </head>
  <body>
    <body class="w3-light-grey w3-content" style="max-width:1600px">
      
      <!-- !PAGE CONTENT! -->
      <div class="w3-main" style="margin-left:0px">
      
        <!-- Header -->
        <header id="portfolio">
          <div class="w3-container">
            <h1><b>Quotes From: <%PLACEHOLDER></b></h1>
            <button id="create-quote">AddQuote</button>
            <div class="w3-section w3-bottombar"></div>
          </div>
        </header>
        <div class="w3-padding-16"></div>
        
        <div id="template">
          <div>
            <div class="w3-row-padding" id="row">
              <div class="w3-third w3-container w3-margin-bottom" id="box">
                <img id="image"src="a.png" alt="Norway" style="width:100%" class="">
                <div class="w3-container w3-white">
                  <p><b id="quotb">QUOTE</b></p>
                  <p id="name">NAME</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- First Photo Grid-->
        <div id="Quotes">
          
        </div>
        <div class="w3-black w3-center w3-padding-16"></div>
        <div class="w3-black w3-center">Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-opacity">w3.css</a></div>
        <div class="w3-black w3-center" id="load">Firebase SDK Loading...</div>
        <div class="w3-black w3-center w3-padding-16"></div>
      
      <!-- End page content -->
      </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const loadEl = document.querySelector('#load');
        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥
        // // The Firebase SDK is initialized and available here!
        //
        // firebase.auth().onAuthStateChanged(user => { });
        firebase.database().ref().get().then((snapshot) => { 
          generateQuotes(snapshot.val())
        });
        // firebase.firestore().doc('/foo/bar').get().then(() => { });
        // firebase.functions().httpsCallable('yourFunction')().then(() => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
         firebase.analytics(); // call to activate
         firebase.analytics().logEvent('tutorial_completed');
        // firebase.performance(); // call to activate
        //
        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥

        try {
          let app = firebase.app();
          let features = [
            'auth', 
            'database', 
            'firestore',
            'functions',
            'messaging', 
            'storage', 
            'analytics', 
            'remoteConfig',
            'performance',
          ].filter(feature => typeof app[feature] === 'function');
          loadEl.textContent = `Firebase SDK loaded with ${features.join(', ')}`;
        } catch (e) {
          console.error(e);
          loadEl.textContent = 'Error loading the Firebase SDK, check the console.';
        }
      });
    </script>
  </body>
</html>
